{"version":3,"sources":["../../src/pages/share-document/share-document.ts","../../src/pages/share-document/share-document.module.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController,  AlertController, LoadingController, NavParams, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { IonicStorageModule } from '@ionic/Storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\n@IonicPage()\n@Component({\n  selector: 'page-share-document',\n  templateUrl: 'share-document.html'\n})\nexport class ShareDocumentPage {\n\n  shareData:any = {};\n  email:string;\n  auth_token:string;\n  profile_id:any;\n  item:any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public userService: UserService,\n    public storage: Storage,\n    private flagService: Flags\n  ) {\n    this.item = navParams.get(\"item\");\n    this.profile_id = navParams.get(\"profile_id\");\n    console.log(this.item);\n  }\n\n\n\n  share(){\n    console.log(this.shareData);\n\n    console.log('shareData', this.share);\n      this.shareData.in_timezone = 'America/New_York';\n      let share_date = new Date(this.shareData.expired_at);\n      let expired_at = share_date.getTime().toString();\n      console.log(expired_at);\n\n      let body = {\n        \"profile_id\":this.profile_id.toString(),\n        \"identity\":{\n        \"item_id\": this.item.id.toString(),\n        \"item_type\": this.item.item_type\n      },\n        \"share\": {\n            \"expired_at\": expired_at,\n            \"in_timezone\":\"America/New_York\",\n            \"message\": this.shareData.message,\n            \"password\": this.shareData.password,\n            \"shared_email\": [this.shareData.shared_email]}\n          }\n      console.log(body);\n      let loading = this.loadingCtrl.create();\n      console.log(body);\n      loading.present();\n      this.storage.get('email').then(val=>{\n        this.email = val;\n        this.storage.get('auth_token').then(val=>{\n          this.auth_token = val;\n          this.userService.ShareProfile(this.email, this.auth_token, body)\n            .subscribe(\n              (data) => {\n                loading.dismiss();\n                console.log(\"share Data: \", data);\n                if(data.success == false){\n                  let alert = this.alertCtrl.create({\n                    title: \"Error\", subTitle: \"Create Error\", buttons: ['OK']\n                  });\n                  alert.present();\n                } else{\n                  let alert = this.alertCtrl.create({\n                    title: \"Shared\", subTitle: \"Shared with \" + this.shareData.shared_email, buttons: ['OK']\n                  });\n                  alert.present();\n                  console.log(data);\n                  this.dismiss()\n                }\n            });\n        });\n      });\n  }\n  dismiss(){\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-document/share-document.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShareDocumentPage } from './share-document';\n@NgModule({\n    declarations: [\n        ShareDocumentPage,    ],\n    imports: [\n        IonicPageModule.forChild(ShareDocumentPage),\n    ],\n    exports: [\n        ShareDocumentPage    ]\n})\nexport class ShareDocumentPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-document/share-document.module.ts"],"sourceRoot":""}