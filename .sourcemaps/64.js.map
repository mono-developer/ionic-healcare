{"version":3,"sources":["../../src/pages/change-password/change-password.ts","../../src/pages/change-password/change-password.module.ts"],"names":[],"mappings":"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","file":"64.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController,  AlertController, LoadingController, NavParams, ToastController, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { IonicStorageModule } from '@ionic/Storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\n@IonicPage()\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html'\n})\nexport class ChangePasswordPage {\n\n  current_pass:string;\n  new_pass:string;\n  confirm_pass:string;\n  auth_token:string;\n  email:string;\n\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public toastCtrl: ToastController,\n    public userService: UserService,\n    public storage: Storage,\n    private flagService: Flags\n  ) {\n  }\n  updatePassword(){\n\n    if(this.current_pass =='' || this.current_pass == null){\n      let alert = this.alertCtrl.create({\n        title: \"Error\", subTitle: \"Please Enter Current Password\", buttons: ['OK']\n      });\n      alert.present();\n    }else if(this.new_pass =='' || this.new_pass == null )  {\n      let alert = this.alertCtrl.create({\n        title: \"Error\", subTitle: \"Please Enter New Password\", buttons: ['OK']\n      });\n      alert.present();\n    }else if(this.confirm_pass =='' || this.confirm_pass == null )  {\n      let alert = this.alertCtrl.create({\n        title: \"Error\", subTitle: \"Please Enter Confirm Password\", buttons: ['OK']\n      });\n      alert.present();\n    }else if(this.new_pass != this.confirm_pass )  {\n      let alert = this.alertCtrl.create({\n        title: \"Error\", subTitle: \"Please change confirm password\", buttons: ['OK']\n      });\n      alert.present();\n    } else{\n      let alert = this.alertCtrl.create({\n        title: \"Success\", subTitle: \"Success\", buttons: ['OK']\n      });\n      alert.present();\n\n      let loading = this.loadingCtrl.create();\n      loading.present();\n      let body = {\"current_password\":this.current_pass, \"user\":{\"password\":this.new_pass, \"password_confirmation\":this.confirm_pass}};\n\n      console.log(body);\n      this.storage.get('email').then(val=>{\n        this.email = val;\n          this.storage.get('auth_token').then(val=>{\n            this.auth_token = val;\n            this.userService.updateInfo(this.email, this.auth_token, body)\n              .subscribe(\n                (data) => {\n                  loading.dismiss();\n                  console.log(\"Profile Data: \", data);\n                  if(data.success == false && data.error_code == \"0102\" ){\n                    let alert = this.alertCtrl.create({\n                      title: \"Error\", subTitle: \"Email has already been taken\", buttons: ['OK']\n                    });\n                    alert.present();\n                  }else if(data.success == false){\n                    let alert = this.alertCtrl.create({\n                      title: \"Error\", subTitle: \"Updated Error \", buttons: ['OK']\n                    });\n                    alert.present();\n                  }else{\n                    let toast = this.toastCtrl.create({ message: 'Update Successfully', duration: 2000, position: 'bottom' });\n                    toast.present();\n                    console.log(data);\n                    this.storage.set('email', data.user.email);\n                    this.storage.set('auth_token', data.user.authentication_token);\n                    this.navCtrl.pop();\n\n                  }\n                });\n              });\n      });\n    }\n\n\n  }\n\n\n\n  dismiss(){\n    this.navCtrl.pop();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\n@NgModule({\n    declarations: [\n        ChangePasswordPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(ChangePasswordPage),\n    ],\n    exports: [\n        ChangePasswordPage\n    ]\n})\nexport class ChangePasswordPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts"],"sourceRoot":""}