{"version":3,"sources":["../../src/pages/update-email/update-email.ts","../../src/pages/update-email/update-email.module.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController,  AlertController, LoadingController, NavParams, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { IonicStorageModule } from '@ionic/Storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\n@IonicPage()\n@Component({\n  selector: 'page-update-email',\n  templateUrl: 'update-email.html'\n})\nexport class UpdateEamilPage {\n\n  email:string;\n  new_email:string;\n  auth_token:string;\n  current_pass:string;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public userService: UserService,\n    public storage: Storage,\n    private flagService: Flags\n  ) {\n    this.storage.get('email').then(val=>{\n      this.email = val;\n    });\n    this.new_email = '';\n    this.auth_token = \"\";\n  }\n\n  updateEmail(){\n\n    if(this.current_pass =='' || this.current_pass == null){\n      let alert = this.alertCtrl.create({\n        title: \"Error\", subTitle: \"Please Enter Current Password\", buttons: ['OK']\n      });\n      alert.present();\n    } else{\n      let alert = this.alertCtrl.create({\n        title: \"Success\", subTitle: \"Success\", buttons: ['OK']\n      });\n      alert.present();\n\n      let loading = this.loadingCtrl.create();\n      loading.present();\n      let body = {\"current_password\":this.current_pass, \"user\":{\"email\": this.new_email}};\n\n      console.log(body);\n      this.storage.get('auth_token').then(val=>{\n        this.auth_token = val;\n        this.userService.updateInfo(this.email, this.auth_token, body)\n          .subscribe(\n            (data) => {\n              loading.dismiss();\n              console.log(\"Profile Data: \", data);\n              if(data.success == false && data.error_code == \"0102\" ){\n                let alert = this.alertCtrl.create({\n                  title: \"Error\", subTitle: \"Email has already been taken\", buttons: ['OK']\n                });\n                alert.present();\n              }else if(data.success == false){\n                let alert = this.alertCtrl.create({\n                  title: \"Error\", subTitle: \"Updated Error \", buttons: ['OK']\n                });\n                alert.present();\n              }else{\n                // this.flagService.setChangedFlag(true);\n                let alert = this.alertCtrl.create({\n                  title: \"Updated\", subTitle: \"Update Success\", buttons: ['OK']\n                });\n                alert.present();\n                console.log(data);\n                this.storage.set('email', data.user.email);\n                this.storage.set('auth_token', data.user.authentication_token);\n\n                this.navCtrl.pop();\n\n              }\n            });\n        });\n    }\n\n\n  }\n\n  dismiss(){\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/update-email/update-email.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UpdateEamilPage } from './update-email';\n@NgModule({\n    declarations: [\n        UpdateEamilPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(UpdateEamilPage),\n    ],\n    exports: [\n        UpdateEamilPage\n    ]\n})\nexport class UpdateEamilPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/update-email/update-email.module.ts"],"sourceRoot":""}