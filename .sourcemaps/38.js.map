{"version":3,"sources":["../../src/pages/move-document/move-document.ts","../../src/pages/move-document/move-document.module.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, ViewController, AlertController, LoadingController, NavParams,IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { IonicStorageModule } from '@ionic/Storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\n@IonicPage()\n@Component({\n  selector: 'page-move-document',\n  templateUrl: 'move-document.html'\n})\nexport class MoveDocumentPage {\n\n  email:string;\n  auth_token:string;\n  documents:any = [];\n  profile_id:any;\n  folder_name:any;\n  parent_id:any;\n  slug:any;\n  oldItem:any;\n\n  constructor(\n    public navCtrl: NavController,\n    public viewCtrl: ViewController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public userService: UserService,\n    public storage: Storage,\n    private flagService: Flags\n  ) {\n    this.profile_id = navParams.get(\"profile_id\");\n    let item = navParams.get(\"item\");\n    if(item == undefined){\n      this.slug = '';\n      this.parent_id = ''\n    }else{\n      this.slug = item.slug;\n      this.parent_id = item.id\n    }\n\n    console.log('dtttt', this.profile_id , item, this.parent_id, this.slug);\n    this.oldItem = navParams.get(\"oldItem\");\n    console.log('oldItem', this.oldItem);\n\n  }\n\n  ionViewWillEnter(){\n    this.getDocumentData()\n  }\n\n  getDocumentData(){\n\n    let loading = this.loadingCtrl.create();\n    loading.present();\n\n    this.storage.get('email').then(val=>{\n      this.email = val;\n      this.storage.get('auth_token').then(val=>{\n        this.auth_token = val;\n\n        this.userService.getDocuments(this.email, this.auth_token, this.profile_id, this.slug)\n          .subscribe(\n            (data) => {\n              loading.dismiss();\n              if(data.success == false){\n                console.log(\"get Documents:\" + JSON.stringify(data));\n             }else{\n               this.documents = data.items;\n               console.log(this.documents);\n              }\n            },\n            (data) => {\n              loading.dismiss();\n            });\n        });\n    });\n  }\n\n  createFolderName(){\n    let prompt = this.alertCtrl.create({\n      title: 'Create Folder',\n      message: \"\",\n      inputs: [\n        {\n          name: 'folder_name',\n          placeholder: 'â€“'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: data => {\n            console.log('Saved clicked');\n            this.folder_name = data.folder_name;\n            this.createFolder();\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  createFolder(){\n      console.log('parent_id:' + this.parent_id + \" name:\" + this.folder_name);\n\n      let loading = this.loadingCtrl.create();\n      loading.present();\n\n      this.storage.get('email').then(val=>{\n        this.email = val;\n        this.storage.get('auth_token').then(val=>{\n          this.auth_token = val;\n          this.userService.createFolder(this.email, this.auth_token, this.profile_id, this.folder_name, this.parent_id)\n            .subscribe(\n              (data) => {\n                loading.dismiss();\n                if(data.success == false){\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                  this.getDocumentData();\n                 }else{\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                  this.getDocumentData();\n               }\n              },\n              (data) => {\n                loading.dismiss();\n            });\n        });\n      });\n  }\n\n  moveDocument(){\n    console.log('moveDocument');\n    console.log('parent_id:' + this.parent_id + \" name:\" + this.folder_name);\n\n    let id = this.oldItem.id;\n    let type = this.oldItem.item_type;\n    let name = this.oldItem.name;\n    let parent_id;\n    if(this.parent_id == null){\n      parent_id = 0\n    }else{\n      parent_id = this.parent_id\n    }\n    let loading = this.loadingCtrl.create();\n    loading.present();\n\n    this.storage.get('email').then(val=>{\n      this.email = val;\n      this.storage.get('auth_token').then(val=>{\n        this.auth_token = val;\n\n        if(type == 'folder'){\n          this.userService.moveFolder(this.email, this.auth_token, this.profile_id, parent_id, id, name)\n            .subscribe(\n              (data) => {\n                loading.dismiss();\n                if(data.success == false){\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                 }else{\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                  this.dismiss()\n               }\n              },\n              (data) => {\n                loading.dismiss();\n            });\n        }else{\n          this.userService.moveDocument(this.email, this.auth_token, this.profile_id, parent_id, id)\n            .subscribe(\n              (data) => {\n                loading.dismiss();\n                if(data.success == false){\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                 }else{\n                  console.log(\"get Documents:\" + JSON.stringify(data));\n                  this.dismiss()\n               }\n              },\n              (data) => {\n                loading.dismiss();\n            });\n          }\n      });\n    });\n  }\n\n  goNextPage(event, data){\n    console.log(data);\n    this.navCtrl.push(MoveDocumentPage, { item: data, profile_id: this.profile_id, oldItem: this.oldItem});\n  }\n\n  dismiss(){\n    let firstViewCtrl = this.navCtrl.first();\n    this.navCtrl.popToRoot({animate: false}).then(() => firstViewCtrl.dismiss());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/move-document/move-document.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MoveDocumentPage } from './move-document';\n@NgModule({\n    declarations: [\n        MoveDocumentPage,    ],\n    imports: [\n        IonicPageModule.forChild(MoveDocumentPage),\n    ],\n    exports: [\n        MoveDocumentPage    ]\n})\nexport class MoveDocumentPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/move-document/move-document.module.ts"],"sourceRoot":""}