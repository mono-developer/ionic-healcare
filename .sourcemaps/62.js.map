{"version":3,"sources":["../../src/pages/emergency-edit/emergency-edit.ts","../../src/pages/emergency-edit/emergency-edit.module.ts"],"names":[],"mappings":"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","file":"62.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, ViewController, NavParams, AlertController,  LoadingController, ToastController, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n@IonicPage()\n@Component({\n  selector: 'page-emergency-edit',\n  templateUrl: 'emergency-edit.html'\n})\nexport class EmergencyEditPage {\n\n  public save:string;\n  public edit:string;\n\n  emergencyData:any = {name:'', relationship:'', phone_number:'', alt_phone_number:'', email:''};\n  profile_id:any;\n  email:string;\n  auth_token:string;\n  relationships:any;\n  other:string;\n  emergencyForm: FormGroup;\n\n  constructor(\n    public navCtrl: NavController,\n    public viewCtrl: ViewController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public userService: UserService,\n    public storage: Storage,\n    public toastCtrl: ToastController,    \n    private flagService: Flags,\n    public formBuilder: FormBuilder,\n  ) {\n      this.save = navParams.get(\"save\");\n      this.edit = navParams.get(\"edit\");\n      console.log(this.save);\n      if (navParams.get(\"emergencyData\") != null){\n          this.emergencyData = navParams.get(\"emergencyData\");\n          console.log(this.emergencyData);\n      }\n\n      this.profile_id = navParams.get(\"profile_id\");\n      this.relationships = [\n        { name:'Brother', value: 0},\n        { name:'Sister', value: 1},\n        { name:'Mother', value: 2 },\n        { name:'Father', value: 3},\n        { name:'Aunt', value: 4},\n        { name:'Uncle', value: 5},\n        { name:'Grandfather', value:6 },\n        { name:'Grandmother', value: 7},\n        { name:'Wife', value: 9},\n        { name:'Other', value: 8},\n\n      ];\n      \n      this.email = \"\";\n      this.auth_token = \"\";\n      this.emergencyForm = formBuilder.group({\n        name: ['', Validators.required],\n        other:[''],\n        relationship: [''],\n        phone_number: ['', Validators.required],\n        email: [''],\n        alt_phone_number: [''],\n      });\n  }\n\n  ngOnInit(){\n    let relationship = this.emergencyData.relationship.split(' ');\n    if(relationship[0] == 'Other'){\n      this.emergencyData.relationship = 'Other';\n      this.other = relationship[1];\n    }\n  }\n\n\n  deleteAlert(){\n\n    let alert = this.alertCtrl.create({\n      title: 'Are you sure?',\n      subTitle: 'Do you really want to delete this item?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: () => {\n            console.log('Buy clicked');\n            this.deleteEmergencyData();\n            }\n          }\n        ]\n      });\n      alert.present();\n  }\n\n  deleteEmergencyData(){\n      let loading = this.loadingCtrl.create({\n        content: 'Deleting Contact'\n      });  \n      let endValue = \"/emergency_contacts/\"+this.emergencyData.id;\n      loading.present();\n      this.storage.get('email').then(val=>{\n        this.email = val;\n        this.storage.get('auth_token').then(val=>{\n          this.auth_token = val;\n          this.userService.dataDelete(this.email, this.auth_token, this.profile_id, endValue)\n            .subscribe(\n              (data) => {\n                loading.dismiss();\n                console.log(\"EmergencyData: \", data);\n                if(data.success == false){\n                  let alert = this.alertCtrl.create({\n                    title: \"Error\", subTitle: \"Delete Error\", buttons: ['OK']\n                  });\n                  alert.present();\n                  this.navCtrl.pop();\n                } else{\n                  this.flagService.setChangedFlag(true);\n                  let toast = this.toastCtrl.create({\n                    message: 'Record Deleted', duration: 2000, position: 'bottom',\n                });\n                  toast.present();\n                  this.navCtrl.pop();\n                  console.log(data);\n                }\n            });\n        });\n      });\n    }\n\n  emergencyDataUpdate(){\n      let loading = this.loadingCtrl.create();\n      let endValue = \"/emergency_contacts/\"+this.emergencyData.id;\n      let relationship;\n      if(this.emergencyData.relationship == 'Other'){\n        console.log('other', this.other); \n        relationship = this.emergencyData.relationship + ' ' + this.other; \n      }else{\n        relationship = this.emergencyData.relationship;\n      }\n      let body = {\"id\":this.emergencyData.id, \"emergency_contact\":\n                      { \"name\": this.emergencyData.name, \"relationship\": relationship,\n                        \"phone_number\": this.emergencyData.phone_number,\"alt_phone_number\":this.emergencyData.alt_phone_number,\n                        \"email\":this.emergencyData.email }\n                      };\n        console.log(body);\n        loading.present();\n        this.storage.get('email').then(val=>{\n          this.email = val;\n          this.storage.get('auth_token').then(val=>{\n            this.auth_token = val;\n            this.userService.dataUpdate(this.email, this.auth_token, this.profile_id, endValue, body)\n              .subscribe(\n                (data) => {\n                  loading.dismiss();\n                  console.log(\"Emergency Data: \", data);\n                  if(data.success == false){\n                    let alert = this.alertCtrl.create({\n                      title: \"Error\", subTitle: \"Updated Error\", buttons: ['OK']\n                    });\n                    alert.present();\n                  } else{\n                    this.flagService.setChangedFlag(true);\n                    let toast = this.toastCtrl.create({\n                      message: 'Updated Successfully', duration: 2000, position: 'bottom'\n                    });\n                    toast.present();\n                    this.navCtrl.pop();\n                    console.log(data);\n                  }\n              });\n          });\n      });\n    }\n\n  emergencyDataCreate(){\n   let loading = this.loadingCtrl.create({\n      content: 'Creating Contact'\n    });  \n    var endValue = \"/emergency_contacts\";\n    let relationship;\n    if(this.emergencyData.relationship == 'Other'){\n      console.log('other', this.other); \n      relationship = this.emergencyData.relationship + ' ' + this.other; \n    }else{\n      relationship = this.emergencyData.relationship;\n    }\n    var body = {\"emergency_contact\":\n    { \"name\": this.emergencyData.name, \"relationship\": relationship,\n     \"phone_number\": this.emergencyData.phone_number,\"alt_phone_number\":this.emergencyData.alt_phone_number,\n      \"email\":this.emergencyData.email }\n    }\n    console.log(body);\n    loading.present();\n    this.storage.get('email').then(val=>{\n      this.email = val;\n      this.storage.get('auth_token').then(val=>{\n        this.auth_token = val;\n        this.userService.dataCreate(this.email, this.auth_token, this.profile_id, endValue, body)\n          .subscribe(\n            (data) => {\n              loading.dismiss();\n              console.log(\"Vital Data: \", data);\n              if(data.success == false){\n                let alert = this.alertCtrl.create({\n                  title: \"Error\", subTitle: \"Created Error\", buttons: ['OK']\n                });\n                alert.present();\n              } else{\n                let toast = this.toastCtrl.create({\n                  message: 'Created Successfully', duration: 2000, position: 'bottom'\n                });\n                toast.present();\n                this.viewCtrl.dismiss({data:'success'});\n              }\n          });\n      });\n    });\n  }\n\n  dismiss() {\n     this.viewCtrl.dismiss();\n   }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/emergency-edit/emergency-edit.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EmergencyEditPage } from './emergency-edit';\n\n@NgModule({\n  declarations: [\n    EmergencyEditPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EmergencyEditPage),\n  ],\n  exports: [\n    EmergencyEditPage\n  ]\n})\nexport class EmergencyEditPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/emergency-edit/emergency-edit.module.ts"],"sourceRoot":""}