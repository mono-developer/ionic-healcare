{"version":3,"sources":["../../src/pages/other-edit/other-edit.ts","../../src/pages/other-edit/other-edit.module.ts"],"names":[],"mappings":"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","file":"35.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, ViewController, NavParams, AlertController, LoadingController, ToastController, IonicPage } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { IonicStorageModule } from '@ionic/Storage';\nimport { UserService } from \"../../providers/user-service\";\nimport { Flags } from \"../../providers/flag\";\nimport * as _ from \"lodash\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@IonicPage()\n@Component({\n  selector: 'page-other-edit',\n  templateUrl: 'other-edit.html'\n})\nexport class OtherInfoEditPage {\n  otherInfoForm: FormGroup;\n\n  save: string;\n  edit: string;\n  otherInfoData: any = {};\n  state: any;\n  profile_id: any;\n  email: string;\n  auth_token: string;\n  note_template: string;\n  selecting: any;\n  constructor(\n    public navCtrl: NavController,\n    public viewCtrl: ViewController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public toastCtrl: ToastController,\n    public userService: UserService,\n    public storage: Storage,\n    private flagService: Flags,\n    public formBuilder: FormBuilder\n\n  ) {\n    this.save = navParams.get(\"save\");\n    this.edit = navParams.get(\"edit\");\n\n    if (navParams.get(\"otherInfoData\") != null) {\n      this.otherInfoData = navParams.get(\"otherInfoData\");\n    } else {\n      this.otherInfoData.is_private = false;\n    }\n    this.otherInfoData.visible = !this.otherInfoData.is_private;\n    this.note_template = this.otherInfoData.notes;\n\n    this.profile_id = navParams.get(\"profile_id\");\n    this.storage.get('email').then(val => {\n      this.email = val;\n    });\n    this.storage.get('auth_token').then(val => {\n      this.auth_token = val;\n    });\n\n    this.selecting = {\n      notes: false\n    };\n    this.otherInfoForm = formBuilder.group({\n      name: ['', Validators.required],\n      note_template: ['', Validators.required],\n      is_private: ['']\n    });\n  }\n  enterNote() {\n    this.selecting.notes = !this.selecting.notes;\n    this.note_template = this.otherInfoData.notes;\n  }\n\n  noteCancel() {\n    this.selecting.notes = false;\n  }\n\n  noteSave() {\n    if (!this.note_template) {\n      this.note_template = '';\n    }\n    this.selecting.notes = false;\n    this.otherInfoData.notes = this.note_template;\n  }\n\n\n  deleteAlert() {\n\n    let alert = this.alertCtrl.create({\n      title: 'Are you sure?',\n      subTitle: 'Do you really want to delete this item?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: () => {\n            console.log('Buy clicked');\n            this.deleteOtherInfoData();\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  deleteOtherInfoData() {\n    let loading = this.loadingCtrl.create();\n    var endValue = \"/other_informations/\" + this.otherInfoData.id;\n    loading.present();\n\n    this.userService.dataDelete(this.email, this.auth_token, this.profile_id, endValue)\n      .subscribe(\n        (data) => {\n          loading.dismiss();\n          console.log(\"otherInfoData Data: \", data);\n          if(data.success == false){\n            let alert = this.alertCtrl.create({\n              title: \"Error\", subTitle: \"Unable to delete record\", buttons: ['OK']\n            });\n            alert.present();\n          } else{\n            this.flagService.setChangedFlag(true);\n            let toast = this.toastCtrl.create({\n              message: 'Record Deleted', duration: 2000, position: 'bottom',\n            });\n            toast.present();\n            this.navCtrl.pop();\n\n          }\n      });\n    }\n\n    getBody(value){\n      let body = _.pickBy(value,  (item)=>{\n        if(_.isArray(item)){\n          if(item.length) {\n            return true;\n          }\n          return false;\n        } else {\n          if(_.identity(item)) {\n            return true;\n          }\n          return false;\n        }\n      });\n      return body;\n    }\n\n    updateOtherInfoData() {\n\n      let loading = this.loadingCtrl.create();\n      var endValue = \"/other_informations/\" + this.otherInfoData.id;\n\n      let newBody = _.cloneDeep(this.otherInfoData);\n      newBody.is_private = (!this.otherInfoData.visible).toString();\n      let body = { \"id\": this.otherInfoData.id, \"other_information\": this.getBody(newBody) }\n      loading.present();\n\n      this.userService.dataUpdate(this.email, this.auth_token, this.profile_id, endValue, body)\n        .subscribe(\n          (data) => {\n            loading.dismiss();\n            if(data.success == false){\n              let alert = this.alertCtrl.create({\n                title: \"Error\", subTitle: \"Updated Error\", buttons: ['OK']\n              });\n              alert.present();\n            } else{\n              this.flagService.setChangedFlag(true);\n              let toast = this.toastCtrl.create({\n                message: 'Updated Successfully', duration: 2000, position: 'bottom',\n              });\n              toast.present();\n              this.navCtrl.pop();\n            }\n        });\n    }\n\n  createOtherInfoData() {\n    let loading = this.loadingCtrl.create();\n    var endValue = \"/other_informations\";\n\n    let newBody = _.cloneDeep(this.otherInfoData);\n    newBody.is_private = (!this.otherInfoData.visible).toString();\n    let body = this.getBody(newBody);\n    this.userService.dataCreate(this.email, this.auth_token, this.profile_id, endValue, body)\n      .subscribe(\n        (data) => {\n          loading.dismiss();\n          if(data.success == false){\n            let alert = this.alertCtrl.create({\n              title: \"Error\", subTitle: \"Create Error\", buttons: ['OK']\n            });\n            alert.present();\n          } else{\n            let toast = this.toastCtrl.create({\n              message: 'Created Successfuly', duration: 2000,  position: 'bottom',\n            });\n            toast.present();\n            this.viewCtrl.dismiss({data:'success'});\n          }\n      });\n  }\n\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/other-edit/other-edit.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OtherInfoEditPage } from './other-edit';\n@NgModule({\n    declarations: [\n        OtherInfoEditPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(OtherInfoEditPage),\n    ],\n    exports: [\n        OtherInfoEditPage\n    ]\n})\nexport class OtherInfoEditPageModule {\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/other-edit/other-edit.module.ts"],"sourceRoot":""}